# –ü—Ä–æ–µ–∫—Ç: Apartments API

## üìå –û–ø–∏—Å–∞–Ω–∏–µ
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–µ—Ä–≤–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Node.js —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö MongoDB, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏ –æ –∫–≤–∞—Ä—Ç–∏—Ä–∞—Ö. API –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∫–≤–∞—Ä—Ç–∏—Ä, —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∏—Ö, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞–≥—Ä–µ–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã.

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### 1Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω **Node.js** –∏ **MongoDB**. –ó–∞—Ç–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm install
```

### 2Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –∏ –¥–æ–±–∞–≤—å—Ç–µ:
```env
MONGO_URI=mongodb://127.0.0.1:27017
```

### 3Ô∏è‚É£ –ó–∞–ø—É—Å–∫ MongoDB
–ï—Å–ª–∏ MongoDB –µ—â—ë –Ω–µ –∑–∞–ø—É—â–µ–Ω–∞, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
mongod --dbpath /path/to/your/database
```
–ò–ª–∏ —á–µ—Ä–µ–∑ Docker:
```bash
docker run -d -p 27017:27017 --name mongodb mongo
```

### 4Ô∏è‚É£ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
node server.js
```
–∏–ª–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π:
```bash
npx nodemon server.js
```

## üìä API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### üìå –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–≤–∞—Ä—Ç–∏—Ä
```http
GET /apartments
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `minPrice` ‚Äì –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
- `maxPrice` ‚Äì –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
- `rooms` ‚Äì –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç
- `sortBy` ‚Äì —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ü–µ–Ω–µ (`asc` / `desc`)

### üìä –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∫–≤–∞—Ä—Ç–∏—Ä–∞–º
```http
GET /apartments/stats
```

### üí∞ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–≤–∞—Ä—Ç–∏—Ä –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–∞—Ö —Ü–µ–Ω
```http
GET /apartments/price-ranges
```

### üè† –¢–û–ü-5 —Å–∞–º—ã—Ö –¥–æ—Ä–æ–≥–∏—Ö –∫–≤–∞—Ä—Ç–∏—Ä
```http
GET /apartments/top-expensive
```

### üåç –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–∞–π–æ–Ω–∞–º
```http
GET /apartments/by-location?location=–¶–µ–Ω—Ç—Ä
```

## üîç –ó–∞–ø—É—Å–∫ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö, –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
node server.js runAggregation
```

## üìå –ê–≤—Ç–æ—Ä—ã
–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: Bekzat Sapargali

